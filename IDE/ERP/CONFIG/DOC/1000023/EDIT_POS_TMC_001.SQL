/*
     PEAKTOP:IDE/ERP/CONFIG/DOC/1000014/EDIT_POS_TMC_001.SQL
*/
SELECT TMC.ID, TMC.NAME, TMC.NAME2, TMC.FLAG_DELETE, TMC.FLAG_LOCKED 
      ,TMC.ARTICLE, TMC.NUMSHOW, TMC.BARCODE, TMC.TMC_LIST_ID 
      ,TMC.EDIZM_ID, EE.NAME AS EDIZM_NAME, EE.SHORT_NAME AS EDIZM_SHORT_NAME 
      ,TMC.TMC_GROUP_ID, GG.NAME AS TMC_GROUP_NAME, GG.PATH AS TMC_GROUP_PATH 
      ,TMC.TMC_TYPE_ID, TT.NAME AS TMC_TYPE_NAME 
      ,TMC.TMC_BRAND_ID, BB.NAME AS TMC_BRAND_NAME 
      
      ,PP.VALUE_DATE, PP.PRICE, PP.PRICE_IN, PP.PRICE_1, PP.PRICE_2, PP.PRICE_3, PP.PRICE_4, PP.PRICE_5 
FROM   TABL$R_TMC TMC 
         LEFT OUTER JOIN TABL$R_EDIZM      EE ON (EE.ID = TMC.EDIZM_ID) 
         LEFT OUTER JOIN TABL$R_TMC_GROUP  GG ON (GG.ID = TMC.TMC_GROUP_ID) 
         LEFT OUTER JOIN TABL$R_TMC_TYPES  TT ON (TT.ID = TMC.TMC_TYPE_ID) 
         LEFT OUTER JOIN TABL$R_TMC_BRANDS BB ON (BB.ID = TMC.TMC_BRAND_ID) 
         LEFT OUTER JOIN TABL$R_TMC_P      PP ON (PP.TMC_ID     = TMC.ID) 
                                              AND(PP.VALUE_DATE = TMC.VALUE_DATE) 
WHERE (TMC.FLAG_DELETE  = 0) 
--  AND (TMC.FLAG_LOCKED  <> 1) 
  AND (TMC.TMC_GROUP_ID <> 10) 
  AND (TMC.TMC_LIST_ID  = 0) 
ORDER BY GG.PATH, TMC.NAME 
